{% extends "layout.html" %}
{% block content %}
  <div class="container" >
    <h3 id="myMessage"> Khan Academy Coding Challenge</h3> 

<h5>The top portion of this page shows aggregate information about the users. 
There are two tables in order to show how the data has changed between actions.
The lower portion of this page has allows the user to add/delete users and perform infections.</h5>

    <h5>Aggregate user information as a result of most recent query</h5>
      <table border="1">
        <tr>
          <td> Total Number of Users: </td> 
          <td id="total_num_users_2"> </td>  
        </tr>
        <tr>
          <td> Number of distinct versions: </td> 
          <td id="num_of_distinct_versions_2"> </td>
        </tr>
        <tr>
          <td> List of versions: </td> 
          <td id="list_of_versions_2"> </td>
        </tr>
        <tr>
          <td> Users per version: </td> 
          <td id="users_per_version_2"> </td>
        </tr>
        <tr>
          <td> Five random users
            <p>(user_id, name, version)</p> 
          </td> 
          <td id="random_users_2"></td>
        </tr>  
      </table>

    <h5>Aggregate user information from previous query (just a copy of the above from the last query)</h5>
      <table border="1">
        <tr>
          <td> Total Number of Users: </td> 
          <td id="total_num_users"> </td>  
        </tr>
        <tr>
          <td> Number of distinct versions: </td> 
          <td id="num_of_distinct_versions"> </td>
        </tr>
        <tr>
          <td> List of versions: </td> 
          <td id="list_of_versions"> </td>
        </tr>
        <tr>
          <td> Users per version: </td> 
          <td id="users_per_version"> </td>
        </tr>
        <tr>
          <td> Five random users
            <p>(user_id, name, version)</p> 
          </td> 
          <td id="random_users"></td>
        </tr>  
      </table>
     
     </br>
      <input type="submit" id="view_database" value="Refresh" onclick="">
      <div> Status: <span id="wait"></span></div>

</br>
<h4>Actions</h4>
<h5>Generate data</h5>
      <form>

        Number of users to generate:
        <input type="text" id="num_users_to_create" value="100"> <br>
        Maximum number of courses a user can be in:
        <input type="text" id="max_num_courses_user_can_be_in" value="4">(This insertion will randomly pick one from 1 to maxium of this value for each user)<br>
        Total number of courses available:
        <input type="text" id="total_num_courses" value="10">(This insertion will randomly added users to these courses) <br>
        Number of students per teacher:
        <input type="text" id="students_per_teacher" value="20"><br>
        Version number to give every user:
        <input type="text" id="version_number" value="1.1"><br>        
        <input type="submit" id="populate_database" value="Insert into Database" onclick="">
      </form>
      

      <br>
<h5>Total Infection (Updates every user in database to desired version)</h5>
      <form>
        Version number to infect with:
        <input type="text" id="infection_version" value="1.2"><br>
        <input type="submit" id="total_infection" value="Perofrm Total Infection" onclick="">
      </form>
      <br>

<h5>Limited Infection</h5>      
      <form>
        Version number to infect with: <input type="text" id="limited_infection_version" value="1.3">
        User ID to infect: <input type="text" id="user_id_to_infect" value="1"> (Probably easiest to copy/paste a random example user_id from above)<br> 


          Limited Infection Type:
        <br>
          <span>
            <label>
            <input type="radio" name="limited_infection_type" value="SAME_COURSES_ONLY" checked="checked"/>
            All users that are in the same courses as the user to infect (both teachers and students)  
            </label>
          </span>
         <br>
          <span>
            <label>
            <input type="radio" name="limited_infection_type" value="ALL_RELATIONS_RECUR" />
            All users that are in the same courses as the user to infect, as well as their coursemates, recursively (both teachers and students). Might infect all users, and might take time to run.
            </label>
          </span>
        <br>


        <input type="submit" id="limited_infection" value="Perofrm Limited Infection" onclick="">
      </form>
  <br>
<h5>Delete all entries</h5>   
      <input type="submit" id="delete_all_entries_from_db" value="Delete All Entries from Database" onclick="">
      <br>

  </div>

{% endblock %}